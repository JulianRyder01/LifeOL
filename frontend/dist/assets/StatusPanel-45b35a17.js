import{g as v,j as e,a as g,D as u}from"./index-c5f90abf.js";function p({attributeKey:x,attribute:t}){try{const l={int:{name:"智力",icon:"book-open",color:"var(--int-color)"},str:{name:"体魄",icon:"dumbbell",color:"var(--str-color)"},vit:{name:"精力",icon:"battery",color:"var(--vit-color)"},cha:{name:"社交",icon:"users",color:"var(--cha-color)"},eq:{name:"情感",icon:"heart",color:"var(--eq-color)"},cre:{name:"创造",icon:"palette",color:"var(--cre-color)"}}[x],d=v(t.level+1),a=v(t.level),m=(t.exp-a)/(d-a)*100;return e.jsxs("div",{className:"card attribute-card","data-name":"attribute-card","data-file":"components/AttributeCard.js",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center relative",style:{backgroundColor:`${l.color}15`},children:[e.jsx("div",{className:`icon-${l.icon} text-xl`,style:{color:l.color}}),e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-white",style:{backgroundColor:l.color},children:t.level})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-[var(--text-primary)]",children:l.name}),e.jsxs("p",{className:"text-lg font-bold",style:{color:l.color},children:["Lv.",t.level]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold",style:{color:l.color},children:t.exp}),e.jsx("div",{className:"text-xs text-[var(--text-muted)]",children:"EXP"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-[var(--text-secondary)]",children:"距下一级"}),e.jsxs("span",{className:"text-[var(--text-secondary)]",children:[t.exp-a," / ",d-a," EXP"]})]}),e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"progress-fill",style:{width:`${Math.min(m,100)}%`,backgroundColor:l.color}})})]})]})}catch(o){return console.error("AttributeCard component error:",o),null}}const N={int:"智力",str:"体魄",vit:"精力",cha:"社交",eq:"情感",cre:"创造"},f={int:"🧠",str:"💪",vit:"⚡",cha:"👥",eq:"❤️",cre:"🎨"};function w({attributes:x,achievements:t,selectedTitles:o,onTitleChange:l}){const d={int:{name:"智力",icon:"book-open",color:"var(--int-color)"},str:{name:"体魄",icon:"dumbbell",color:"var(--str-color)"},vit:{name:"精力",icon:"battery",color:"var(--vit-color)"},cha:{name:"社交",icon:"users",color:"var(--cha-color)"},eq:{name:"情感",icon:"heart",color:"var(--eq-color)"},cre:{name:"创造",icon:"palette",color:"var(--cre-color)"}},a=g(t),m=(s,c)=>{const r=[...o],i=r.indexOf(s),j=r.filter(h=>{var n;return((n=t.find(b=>b.id===h))==null?void 0:n.attributeRequirement)===c});i>=0?r.splice(i,1):(j.forEach(h=>{const n=r.indexOf(h);n>=0&&r.splice(n,1)}),r.push(s)),l(r)};return e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"人生六项基本属性"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(x).map(([s,c])=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx(p,{attributeKey:s,attribute:c},s),a[s].length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"称号选择"}),e.jsx("div",{className:"space-y-2",children:a[s].map(r=>{const i=o.includes(r.id);return e.jsxs("div",{className:`flex items-center justify-between p-2 rounded cursor-pointer ${i?"bg-blue-50 border border-blue-200":"bg-gray-50 hover:bg-gray-100"}`,onClick:()=>m(r.id,s),children:[e.jsx("span",{className:"text-sm",children:r.title}),i&&e.jsx("svg",{className:"h-4 w-4 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]},r.id)})})]})]},s))}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"周期触发事件"}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-yellow-800 mb-3",children:"以下是你需要定期维护的属性，如果超过指定天数未进行相关活动，属性经验值将会衰减："}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(u).map(([s,c])=>e.jsxs("div",{className:"flex items-start p-3 bg-white rounded-lg border border-gray-200",children:[e.jsx("span",{className:"text-lg mr-2",children:f[s]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:N[s]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["超过 ",e.jsxs("span",{className:"font-semibold text-gray-900",children:[c.inactiveThreshold,"天"]})," 未活动，每天衰减 ",e.jsxs("span",{className:"font-semibold text-gray-900",children:[(c.decayRate*100).toFixed(1),"%"]})," 当前经验值"]})]})]},s))}),e.jsx("div",{className:"mt-3 text-sm text-yellow-700",children:e.jsx("p",{children:"💡 提示：定期进行各类活动可以保持你的属性值稳定增长，避免衰减。"})})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"属性说明"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(d).map(([s,c])=>e.jsxs("div",{className:"flex items-start p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-white font-bold mr-3",style:{backgroundColor:c.color},children:c.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:c.name}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[s==="int"&&"学习能力、逻辑思维、知识积累",s==="str"&&"身体素质、运动能力、耐力",s==="vit"&&"精神状态、活力、专注力",s==="cha"&&"人际关系、沟通能力、领导力",s==="eq"&&"情绪管理、同理心、自我认知",s==="cre"&&"创新能力、艺术表达、想象力"]})]})]},s))})]})]})}export{w as default};
