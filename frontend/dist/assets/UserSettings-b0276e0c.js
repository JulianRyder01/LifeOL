import{r as l,j as e,s as v,d as w}from"./index-0a664690.js";function S({userConfig:c,onUserConfigChange:u,onBack:d,onImportData:g,onResetData:h}){const[m,f]=l.useState(c.username),[o,b]=l.useState(c.avatar),[n,x]=l.useState(!1),[i,r]=l.useState({type:null,message:""});l.useEffect(()=>{const s=localStorage.getItem("lifeol_user_config");if(s){const t=JSON.parse(s);x(t.dontShowTaskCompleteConfirm||!1)}},[]);const p=()=>{const s={username:m,avatar:o};v(s),u(s);const t=localStorage.getItem("lifeol_user_config"),a=t?JSON.parse(t):{};a.dontShowTaskCompleteConfirm=n,localStorage.setItem("lifeol_user_config",JSON.stringify(a)),d()},j=()=>{h()},y=()=>{try{w(),r({type:"success",message:"数据导出成功！"}),setTimeout(()=>r({type:null,message:""}),3e3)}catch{r({type:"error",message:"数据导出失败，请重试。"}),setTimeout(()=>r({type:null,message:""}),3e3)}},N=s=>{var a;const t=(a=s.target.files)==null?void 0:a[0];t&&(g(t,r),s.target.value="")};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"用户设置"}),e.jsx("button",{onClick:d,className:"text-gray-500 hover:text-gray-700",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.type&&e.jsx("div",{className:`mb-4 p-3 rounded ${i.type==="success"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:i.message}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"基本信息"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"用户名"}),e.jsx("input",{type:"text",value:m,onChange:s=>f(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"头像"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-4xl",children:o}),e.jsx("input",{type:"text",value:o,onChange:s=>b(s.target.value),placeholder:"输入emoji或字符",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]})]})]}),e.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"系统设置"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"任务完成确认提示"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"进度达到100%时是否显示确认提示"})]}),e.jsx("button",{onClick:()=>x(!n),className:`relative inline-flex h-6 w-11 items-center rounded-full ${n?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${n?"translate-x-6":"translate-x-1"}`})})]})})]}),e.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"数据管理"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsx("button",{onClick:y,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"导出数据"}),e.jsxs("label",{className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus-within:ring-2 focus-within:ring-green-500 focus-within:ring-offset-2 text-center cursor-pointer",children:["导入数据",e.jsx("input",{type:"file",accept:".json",onChange:N,className:"hidden"})]})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"导出数据将保存您所有的属性、事件、成就、道具等信息。导入数据将替换当前所有数据，请谨慎操作。"})]})]}),e.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"关于"}),e.jsx("div",{className:"space-y-4",children:e.jsx("button",{onClick:()=>{},className:"w-full text-left px-4 py-2 text-sm text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"关于开发者"})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"危险操作"}),e.jsx("div",{className:"space-y-4",children:e.jsx("button",{onClick:j,className:"w-full text-left px-4 py-2 text-sm text-red-600 bg-red-50 rounded-md hover:bg-red-100",children:"重开人生"})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:p,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"保存设置"})})]})]})})}export{S as default};
